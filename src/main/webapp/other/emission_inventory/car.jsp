<%@ page contentType="text/html;charset=UTF-8" language="java" %><%@ include file="/WEB-INF/jsp/_common/taglib.jsp" %><!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <title>排放清单-移动源</title>    <%@ include file="/WEB-INF/jsp/_common/commonCSS.jsp" %></head><link href="../../assets/components/element-ui/css/index.css"/><style>    .title {        text-align: center;        color: red;        font-size: 18px;        font-weight: 600;        margin-bottom: 10px;    }    #car-polution {        height: 480px;    }    #car-number {        height: 480px;    }</style><body><div class="main-container" id="dyh" v-cloak>    <div class="main-content">        <div class="main-content-inner fixed-page-header fixed-40">            <div id="breadcrumbs" class="breadcrumbs">                <ul class="breadcrumb">                    <li class="active">                        <h5 class="page-title">                            <i class="header-icon fa fa-bus"></i>                            移动源                        </h5>                    </li>                </ul>            </div>        </div>        <div class="main-content-inner">            <div class="page-content">                <div class="echarts-box-side">                    <div class="col-xs-6">                        <div class="title">机动车排放情况</div>                        <div id="car-polution">                        </div>                    </div>                    <div class="col-xs-6">                        <div class="title">不同标准机动车保有量</div>                        <div id="car-number">                        </div>                    </div>                    <div class="col-xs-12" style="margin-top: 30px">                        <div class="title" style="cursor: pointer" @click="openPage()"> 成都市移动源排放清单统计分析系统</div>                        <img style="width: 100%" src="../yqd/pictrue/home_index.jpg"/>                    </div>                </div>            </div>        </div>    </div></div></body><script type="text/javascript" src="../../other/comon.js"></script><script>    new Vue({        el: "#dyh",        methods: {            openPage:function (){              window.open('https://cdydy.cdepbcar.com:81/MSCAP/Web/Login.jsp');            },            initCarPolution() {                let myChart = echarts.init(document.getElementById("car-polution"));                let option = {                    color: ['#fa4c4c', '#f6d637', '#78f508', '#32971e', '#bd6758', '#f26522',                        '#53261f', '#73C0DE', '#b69968', '#d3c6a6', '#494e8f', '#7fb80e'],                    tooltip: {                        trigger: 'axis',                        axisPointer: {                            type: 'shadow'                        },                        formatter: function (list) {                            let str = list[0].name;                            let num = 1;                            switch (str) {                                case 'SO2':                                    num = 2366.874446;                                    break;                                case 'NOX':                                    num = 49575.42657;                                    break;                                case 'VOCs':                                    num = 40717.36344;                                    break;                                case 'PM10':                                    num = 901.225047;                                    break;                                case 'PM2.5':                                    num = 833.5804868;                                    break;                            }                            str = str + '(吨)</br>';                            list.forEach(val => {                                str = str + '</br>' + val.marker + val.seriesName + "&nbsp;:&nbsp;" + (((val.value / 100) * num)).toFixed(2)                            });                            return str;                        }                    },                    legend: {},                    grid: {                        bottom:80,                        // containLabel: true                    },                    xAxis: {                        type: 'category',                        data: ['SO2', 'NOX', 'VOCs', 'PM10', 'Pm2.5']                    }                    ,                    yAxis: {                        type: 'value',                        interval: 10,                        max: 100,                        axisLabel: {                            formatter: function (value) {                                return value + '%'                            }                        }                    }                    ,                    series: [                        {                            name: '微型载客',                            type: 'bar',                            stack: 'Ad',                            barWidth:40,                            emphasis: {                                focus: 'series'                            },                            data: [0.28426, 0.33749, 4.14753, 0.57067, 0.61697]                        },                        {                            name: '小型载客',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [33.95276                                , 8.82319                                , 68.81028                                , 10.09886                                , 10.74578                            ]                        },                        {                            name: '中型载客',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [0.54990                                , 0.42537                                , 0.25453                                , 0.79552                                , 0.79287                            ]                        },                        {                            name: '大型载客',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [2.55036                                , 5.93008                                , 0.86389                                , 9.54625                                , 9.22180                            ]                        },                        {                            name: '微型载货',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [0, 0, 0, 0, 0]                        },                        {                            name: '轻型载货',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [0.00032                                , 0.00085                                , 0.00161                                , 0.00099                                , 0.00105                            ]                        },                        {                            name: '轻型载货',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [7.39102                                , 12.20951                                , 4.98313                                , 14.36161                                , 14.96710                            ]                        },                        {                            name: '中型载货',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [2.62083                                , 2.93997                                , 0.18034                                , 3.37011                                , 3.28480                            ]                        },                        {                            name: '重型载货',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [49.94226                                , 60.35281                                , 3.18218                                , 55.61774                                , 54.97469                            ]                        },                        {                            name: '摩托车',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [0, 0.93731                                , 3.167425775, 6.54300                                , 2.12439                            ]                        },                        {                            name: '出租车',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [0.06703                                , 0.16744                                , 1.09729                                , 0, 0]                        },                        {                            name: '预约出租客运',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [2.44987                                , 2.26484                                , 11.36786                                , 0.02716                                , 0.02937                            ]                        },                        {                            name: '公交车',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [0.19139                                , 5.61115                                , 1.56835                                , 3.48669                                , 3.06909                            ]                        },                    ]                };                myChart.setOption(option, true);            },            intiCarNumber() {                let myChart = echarts.init(document.getElementById("car-number"));                let option = {                    tooltip: {                        trigger: 'axis',                        axisPointer: {                            type: 'shadow'                        },                        formatter: function (list) {                            let str = list[0].name;                            let num = 1;                            switch (str) {                                case '微型载客汽车':                                    num = 34532;                                    break;                                case '小型载客汽车':                                    num = 5115723;                                    break;                                case '中型载客汽车':                                    num = 4663;                                    break;                                case '大型载客汽车':                                    num = 13598;                                    break;                                case '出租车':                                    num = 16363;                                    break;                                case '公交车':                                    num = 17363;                                    break;                                case '预约出租车':                                    num = 119616;                                    break;                                case '微型载货汽车':                                    num = 278;                                    break;                                case '轻型载货汽车':                                    num = 275178;                                    break;                                case '中型载货汽车':                                    num = 13302;                                    break;                                case '重型载货汽车':                                    num = 135376;                                    break;                                case '低速货车':                                    num = 1142;                                    break;                            }                            str = str + '(辆)</br>';                            list.forEach(val => {                                str = str + '</br>' + val.marker + val.seriesName + "&nbsp;:&nbsp;" + Math.round(((val.value / 100) * num))                            });                            return str;                        }                    },                    legend: {},                    grid: {                        left: '1%',                        bottom:80,                        // containLabel: true                    },                    xAxis: {                        type: 'category',                        data: ['微型载客汽车', '小型载客汽车', '中型载客汽车', '大型载客汽车', '出租车', '公交车', '预约出租车', '微型载货汽车', '轻型载货汽车',                            '中型载货汽车', '重型载货汽车', '低速货车'],                        axisLabel: {                            interval: 0,                            rotate: 35,                            margin: 40,                            formatter: function (val) {                                return val.split("").join("\n");                            }                        }                    }                    ,                    yAxis: {                        type: 'value',                        interval: 10,                        max: 100,                        axisLabel: {                            formatter: function (value) {                                return value + '%'                            }                        }                    }                    ,                    series: [                        {                            name: '国1',                            type: 'bar',                            barWidth:40,                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [0.141897370554848, 0.0213459563780134, 0.0214454214025306, 0.0294160906015591, 0, 0, 0, 0, 0.00399741258385481, 0.0751766651631334, 0.0103415671906394, 0]                        },                        {                            name: '国2',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [27.1342522877331, 0.89037268045983, 1.62985202659232, 3.97117223121047, 0, 0.00575937338017624, 0, 0.359712230215827, 0.108656942052054, 0.65403698691926, 0.228253161564827, 26.3572679509632,]                        },                        {                            name: '国3',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [38.2601644851153, 6.73347638251719, 28.3937379369505, 23.0769230769231, 0.00611134877467457, 3.29436157346081, 0, 2.51798561151079, 9.36884489312372, 33.1153210043602, 16.2946164755939, 72.4168126094571,                            ]                        },                        {                            name: '国4',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [26.7462064172362, 39.2406508327366, 45.3570662663521, 28.6586262685689, 0.727250504186274, 36.4625928698958, 2.47876538255752, 0.719424460431655, 24.9932770788362, 25.191700496166, 16.9601701926486, 1.22591943957968,                            ]                        },                        {                            name: '国5',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [2.77134252287733, 33.2282846432459, 20.9950675530774, 17.7452566553905, 40.487685632219, 18.464551056845, 48.1056046013911, 0, 34.2432897978763, 27.2214704555706, 55.6524051530552, 0,                            ]                        },                        {                            name: '国6',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [0.144793235260049, 17.7584673759701, 3.32404031739224, 0.831004559494043, 5.32909613151623, 0, 7.05758426966292, 0, 14.9881167825916, 9.56998947526688, 10.7722195957925, 0,                            ]                        },                        {                            name: '纯电',                            type: 'bar',                            stack: 'Ad',                            emphasis: {                                focus: 'series'                            },                            data: [4.80134368122321, 2.12740212869227, 0.278790478232897, 25.6876011178114, 53.4498563833038, 41.7727351264182, 42.3580457463884, 96.4028776978417, 16.2938170929362, 4.1723049165539, 0.0819938541543553, 0,                            ]                        },                    ]                };                myChart.setOption(option, true);            }        },        mounted() {            const _this = this;            _this.$nextTick(() => {                _this.initCarPolution();                _this.intiCarNumber();            });        },    });</script></html>